<ion-header>
    <ion-navbar>
        <ion-title>
            Autorizaciones
        </ion-title>
        <ion-buttons end>
            <button  *ngIf="DatosUsuario.boss == 1" ion-button large icon-right color="primary" (click)="irNotificaciones()"><ion-icon name="ios-home"></ion-icon></button>
            <button ion-button large icon-right color="primary" (click)="menuBoss()"><ion-icon name="ios-menu"></ion-icon></button>
        </ion-buttons>
    </ion-navbar>
</ion-header>
<ion-content padding>
    <ion-list *ngFor="let item of ListaMensajes">
        <div *ngIf="item.ocultar == 1">
            <div *ngIf="item.estatus > 0">
                <span *ngIf="item.archivos > 0">
                <span>
                    <ion-icon *ngIf="item.estatus == 1" style=" position: absolute; left: 2px; margin-top: 30px;" name="radio-button-on" icon-left color="primary"></ion-icon>
                    <ion-icon *ngIf="item.estatus == 2" style=" position: absolute; left: 2px; margin-top: 30px;" name="radio-button-on" icon-left color="ambar"></ion-icon>
                    <ion-icon *ngIf="item.estatus == 3" style=" position: absolute; left: 2px; margin-top: 30px;" name="radio-button-on" icon-left color="verde"></ion-icon>
                    <ion-icon *ngIf="item.estatus == 4" style=" position: absolute; left: 2px; margin-top: 30px;" name="radio-button-on" icon-left color="danger"></ion-icon>
                </span>
                </span>
                <span *ngIf="item.archivos < 1">
                 <ion-icon *ngIf="item.estatus == 1" style=" position: absolute; left: 2px; margin-top: 10px;" name="radio-button-on" icon-left color="primary"></ion-icon>
                    <ion-icon *ngIf="item.estatus == 2" style=" position: absolute; left: 2px; margin-top: 10px;" name="radio-button-on" icon-left color="ambar"></ion-icon>
                    <ion-icon *ngIf="item.estatus == 3" style=" position: absolute; left: 2px; margin-top: 10px;" name="radio-button-on" icon-left color="verde"></ion-icon>
                    <ion-icon *ngIf="item.estatus == 4" style=" position: absolute; left: 2px; margin-top: 10px;" name="radio-button-on" icon-left color="danger"></ion-icon>
            </span>
            </div>
            <div *ngIf="item.archivos > 0 ">
                <span *ngIf="item.estatus > 0">
                <br>
                <ion-icon style="position: absolute; left: 5px; margin-top: 30px;" name="ios-attach" icon-left color="dark"></ion-icon>
            </span>
                <span *ngIf="item.estatus < 1">
                <ion-icon style="position: absolute; left: 5px; margin-top: 10px;" name="ios-attach" icon-left color="dark"></ion-icon>
            </span>
            </div>
            <a href="#" (click)="navTema(item)">
                <ion-item item-left icon-left>
                    <h2 text-wrap>
                        {{item.nombre_tema}} - No.{{item.numdocumento}}
                    </h2>
                    <h2 text-wrap><span *ngIf="item.gp==1"><img src="assets/img/gpIcono.png" style="width: 11px;  height: auto;">&nbsp;</span> {{item.nombre_tareas}}
                    </h2>

                    <h3>
                        <p text-wrap>{{item.nombre_proyecto}}</p>
                    </h3>
                    <p>
                        <span [ngStyle]="{'color': item.color_estatus}">Estatus {{item.nombre_estatus}}</span>
                    </p>
                    <p *ngIf="item.fecha_aut != null && (item.estatus == 3 || item.estatus == 4)">
                        <span *ngIf="item.estatus == 3">Fecha Autorizaic√≥n {{item.fecha_aut  | date: 'dd/MM/yyyy'}}</span>
                        <span *ngIf="item.estatus == 4">Fecha Cancelacion {{item.fecha_aut  | date: 'dd/MM/yyyy'}}</span>
                    </p>
                    <p>
                        <span *ngIf="item.estatus == 2">Por Autorizar {{item.autorizado_nombre}}</span>
                        <span *ngIf="item.estatus == 3">Autorizado por {{item.autorizado_nombre}}</span>
                        <span *ngIf="item.estatus == 4">Rechazado por {{item.autorizado_nombre}}</span>

                    </p>
                    <p *ngIf="item.monto>0">Monto $<span data-format="#.000">{{item.monto | number}}</span> MXN</p>
                    <p *ngIf="item.nota!='' && item.nota!=null" text-wrap>{{item.nota}}</p>
                    <img *ngIf="item.archivo_nombre!=null" [src]="returnPathFile('http://142.4.197.18:8000/', item.archivo_nombre)" alt="">
                    <ion-note item-right>
                        {{item.fecha | date: 'dd/MM'}}
                    </ion-note>
                    <ion-icon class="flechaNext" name="ios-arrow-forward" icon-rigth></ion-icon>
                </ion-item>
            </a>
        </div>
    </ion-list>
</ion-content>
<ion-footer no-border>
    <ion-toolbar>
        <ion-buttons start>
            <button ion-button icon-only color="primary" (click)="getFiltro()"><ion-icon name="md-funnel"></ion-icon></button>
        </ion-buttons>
        <ion-title>
            {{tituloConstructor}}
        </ion-title>
        <ion-buttons end>
        </ion-buttons>
    </ion-toolbar>
</ion-footer>